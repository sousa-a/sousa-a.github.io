<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Predictive Modeling | Alessandro O. Sousa</title> <meta name="author" content="Alessandro O. Sousa"> <meta name="description" content="Predicting medicine usage in the hospital context."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="/projects/3_project/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Alessandro O. Sousa</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Predictive Modeling</h1> <p class="post-description">Predicting medicine usage in the hospital context.</p> </header> <article> <hr> <h1 id="post-in-progress">POST IN PROGRESS</h1> <h1 id="case-study-analysis-of-medicine-usage-in-an-integrated-hospital-network-yellowlynx-medcorp---part-3---forecasting">Case Study: Analysis of medicine usage in an integrated hospital network (YellowLynx MedCorp) - Part 3 - Forecasting.</h1> <p><br></p> <p>This project consists of a fictional scenario in which a health-related enterprize, YellowLynx MedCorp, needs to closely monitor inventory and stock usage, particularly medicines, across its various hospital departments located in a metropolitan area.</p> <p>In the <a href="/projects/2_project/">second section</a>, we deep dived into the data provided, analysed the stock usage and derived features in order to better understand each hospital profile. We explored some inventory and logistic inventoty metrics key performance indicators (KPI) clearly displayed in dashboards.</p> <p>In this third section, I will explore the <strong>forecasting</strong> aspects of the project.</p> <p>Forecasting is crucial for organizations as it equips them with the ability to anticipate future trends, make informed decisions, and allocate resources efficiently. In the healthcare sector, the importance of forecasting becomes even more pronounced due to the high stakes involved in patient care, resource utilization, and financial sustainability.</p> <p>So, let’s begin!<br><br></p> <h2 id="1-initial-evaluation-and-preliminary-considerations">1. Initial evaluation and preliminary considerations<br><br> </h2> <p>Although the data in this case study is fictional, it demonstrates that extracting insights from real-world data is not an easy task. As pointed in the previous section, there is not a clear picture of seasonality at the aggregate level of the total stock usage (TSU) metric.</p> <p>It is well known that the Sars-CoV (COVID-19) pandemic resulted in an increase in the numbers os hospitalization as well as prices of medications and other healt-related products. In contrast, some healthcare services and elective surgeries procedures where almost haulted during the pandemic.</p> <p>Time series forecasting is not a easy task. There is not a “one for all” statistical model. Given that it was difficult to extract useful information of TSU at the aggregate level, we decided to redirect our efforts to predict of each product in terms of quantity used by month.</p> <p>We took advantage of the XGBoost algorithm’s speed and efficiency to perform forecasts of the usage of several medicines. We show bellow the forecast for the usage of the medicine sugammadex at LGH1 hospital. Sugammadex is used in the reversal of neuromuscular blockade induced by rocuronium and vecuronium in general anaesthesia.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/sugammadex_xgboost_forecast-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/sugammadex_xgboost_forecast-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/sugammadex_xgboost_forecast-1400.webp"></source> <img src="/assets/img/sugammadex_xgboost_forecast.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption">Figure 1. Xgboost forecast of sugammadex at LGH1 hospital.</div> <p><br></p> <p>For this example in particular, the model performed pretty well, showed low error values and a high R², as summarized in the table below.</p> <caption><b>Table 6. Regression-based evaluation metrics for sugammadex usage prediction using XGBoost.</b></caption> <table> <thead> <tr> <th style="text-align: center">Metric</th> <th style="text-align: center">Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">MAE</td> <td style="text-align: center">4.605989</td> </tr> <tr> <td style="text-align: center">RMSE</td> <td style="text-align: center">5.118092</td> </tr> <tr> <td style="text-align: center">R²</td> <td style="text-align: center">0.930788</td> </tr> </tbody> </table> <p><br></p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/aspirin_xgboost_forecast-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/aspirin_xgboost_forecast-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/aspirin_xgboost_forecast-1400.webp"></source> <img src="/assets/img/aspirin_xgboost_forecast.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption">Figure 1. Xgboost forecast of aspirin at LGH1 hospital.</div> <p><br><br><br></p> <p>TEXT ABOUT ASPIRIN, ERROS AND OTHER THINGS.</p> <caption><b>Table 6. Regression-based evaluation metrics for sugammadex usage prediction using XGBoost.</b></caption> <table> <thead> <tr> <th style="text-align: center">Metric</th> <th style="text-align: center">Value</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">MAE</td> <td style="text-align: center">418.350098</td> </tr> <tr> <td style="text-align: center">RMSE</td> <td style="text-align: center">507.437264</td> </tr> <tr> <td style="text-align: center">R²</td> <td style="text-align: center">0.672920</td> </tr> </tbody> </table> <p><br></p> </article> </div> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Alessandro O. Sousa. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>